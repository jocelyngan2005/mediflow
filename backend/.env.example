# MediFlow Multi-Clinic Backend Configuration

# JamAI Base Configuration
JAMAI_API_KEY="your_jamai_pat_here"
JAMAI_PROJECT_ID="your_project_id_here"

# Shared Action Tables (used by all clinics)
KNOWLEDGE_TABLE_SOP="sop-knowledge-table"
KNOWLEDGE_TABLE_MEDS="meds-knowledge-table"
ACTION_TABLE_TRIAGE="Appointment Booking"
ACTION_TABLE_LOOKUP="Medical Lookup"
ACTION_TABLE_SOP_QNA="SOP QnA" 

# Security
CLINIC_SECRET_CODE="MEDIFLOW-ADMIN-2024"

# Multi-Clinic Configuration (JSON format)
# Each clinic has its own knowledge tables, but shares action tables
CLINIC_CONFIGS='{
  "klinik-bandar-utama": {
    "knowledge_table_sop": "bandar-utama-sop-knowledge",
    "knowledge_table_meds": "bandar-utama-meds-knowledge",
    "knowledge_table_faqs": "bandar-utama-faqs-knowledge",
    "action_table_appointment_booking": "Appointment Booking",
    "action_table_pdf_sop_answering": "SOP QnA",
    "action_table_medication_lookup": "Medical Lookup"
  },
  "klinik-sri-hartamas": {
    "knowledge_table_sop": "sri-hartamas-sop-knowledge",
    "knowledge_table_meds": "sri-hartamas-meds-knowledge", 
    "knowledge_table_faqs": "sri-hartamas-faqs-knowledge",
    "action_table_appointment_booking": "Appointment Booking",
    "action_table_pdf_sop_answering": "SOP QnA",
    "action_table_medication_lookup": "Medical Lookup"
  },
  "klinik-desa-jaya": {
    "knowledge_table_sop": "desa-jaya-sop-knowledge",
    "knowledge_table_meds": "desa-jaya-meds-knowledge",
    "knowledge_table_faqs": "desa-jaya-faqs-knowledge", 
    "action_table_appointment_booking": "Appointment Booking",
    "action_table_pdf_sop_answering": "SOP QnA",
    "action_table_medication_lookup": "Medical Lookup"
  }
}'

# Alternative: Leave CLINIC_CONFIGS empty to use auto-generated table names
# CLINIC_CONFIGS="{}"

# How Multi-Clinic Works:
# 1. Each clinic has its own knowledge tables for SOPs, medications, and FAQs
# 2. All clinics share the same action tables (Appointment Booking, SOP QnA, Medical Lookup)
# 3. Users must select a clinic first, then AI operations use clinic-specific knowledge data
# 4. Staff can access medication lookup for their assigned clinics
# 5. Knowledge bases (PDFs, SOPs) are completely isolated per clinic
# 6. Action tables use clinic_name parameter to differentiate between clinics

# Example API Usage:
# POST /api/v1/patients/chat/sop
# {
#   "clinic_id": "klinik-sunway",
#   "message": "Klinik ni buka pukul berapa?",
#   "language": "BM"
# }
#
# POST /api/v1/patients/triage  
# {
#   "clinic_id": "klinik-ampang",
#   "symptoms": "Demam panas 3 hari",
#   "patient_age": 25
# }
#
# GET /api/v1/staff/medication-lookup?clinic_id=klinik-pj&drug_name=Panadol